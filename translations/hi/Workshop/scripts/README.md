<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "8344ea4f8f563cfa921e09247588a225",
  "translation_date": "2025-10-08T21:59:57+00:00",
  "source_file": "Workshop/scripts/README.md",
  "language_code": "hi"
}
-->
# वर्कशॉप स्क्रिप्ट्स

यह डायरेक्टरी वर्कशॉप सामग्री में गुणवत्ता और स्थिरता बनाए रखने के लिए उपयोग किए जाने वाले ऑटोमेशन और सपोर्ट स्क्रिप्ट्स को संग्रहीत करती है।

## सामग्री

| फ़ाइल | उद्देश्य |
|------|---------|
| `lint_markdown_cli.py` | मार्कडाउन कोड फेंस को स्कैन करता है ताकि पुराने Foundry Local CLI कमांड पैटर्न को ब्लॉक किया जा सके। |
| `export_benchmark_markdown.py` | मल्टी-मॉडल लेटेंसी बेंचमार्क चलाता है और Markdown + JSON रिपोर्ट्स उत्पन्न करता है। |

## 1. मार्कडाउन CLI पैटर्न लिंटर

`lint_markdown_cli.py` सभी गैर-अनुवाद `.md` फाइलों को **फेंस्ड कोड ब्लॉक्स** (``` ... ```) के अंदर प्रतिबंधित Foundry Local CLI पैटर्न के लिए स्कैन करता है। सूचनात्मक गद्य अभी भी ऐतिहासिक संदर्भ के लिए पुराने कमांड का उल्लेख कर सकता है।

### पुराने पैटर्न (कोड फेंस के अंदर ब्लॉक किए गए)

लिंटर पुराने CLI पैटर्न को ब्लॉक करता है। इसके बजाय आधुनिक विकल्पों का उपयोग करें।

### आवश्यक प्रतिस्थापन
| पुराना | इसके बजाय उपयोग करें |
|-------|-----------------------|
| `foundry model chat <a> "..."` | `foundry model run <a> --prompt "..."` |
| `foundry model list --running` | `foundry model list` |
| `foundry model list --cached` | `foundry cache list` |
| `foundry model stats` | बेंचमार्क स्क्रिप्ट + सिस्टम टूल्स (`Task Manager`, `nvidia-smi`) |
| `foundry model benchmark` | `samples/session03/benchmark_oss_models.py` |
| `foundry model list --available` | `foundry model list` |

### एग्जिट कोड्स
| कोड | अर्थ |
|-----|------|
| 0 | कोई उल्लंघन नहीं पाया गया |
| 1 | एक या अधिक पुराने पैटर्न पाए गए |

### लोकल रूप से चलाना
रेपो रूट से (अनुशंसित):

Windows (PowerShell):
```powershell
python Workshop\scripts\lint_markdown_cli.py --verbose
```

macOS / Linux:
```bash
python Workshop/scripts/lint_markdown_cli.py --verbose
```

### प्री-कमिट हुक (वैकल्पिक)
```bash
echo "python Workshop/scripts/lint_markdown_cli.py" > .git/hooks/pre-commit
chmod +x .git/hooks/pre-commit
```
यह उन कमिट्स को ब्लॉक करता है जो पुराने पैटर्न पेश करते हैं।

### CI इंटीग्रेशन
GitHub Action वर्कफ़्लो (`.github/workflows/markdown-cli-lint.yml`) हर पुश और `main` और `Reactor` ब्रांच पर पुल रिक्वेस्ट पर लिंटर चलाता है। असफल जॉब्स को मर्ज करने से पहले ठीक करना होगा।

### नए पुराने पैटर्न जोड़ना
1. `lint_markdown_cli.py` खोलें।
2. `DEPRECATED` सूची में एक टपल `(regex, suggestion)` जोड़ें। रॉ स्ट्रिंग का उपयोग करें और जहां उपयुक्त हो वहां `\b` वर्ड बॉउंड्री शामिल करें।
3. स्थानीय रूप से लिंटर चलाएं ताकि डिटेक्शन सत्यापित हो सके।
4. कमिट और पुश करें; CI नया नियम लागू करेगा।

उदाहरण जोड़:
```python
DEPRECATED.append((r"\\bfoundry\\s+experimental\\s+foo\\b", "Remove experimental foo usage"))
```

### व्याख्यात्मक उल्लेखों की अनुमति देना
क्योंकि केवल फेंस्ड कोड ब्लॉक्स लागू होते हैं, आप पुराने कमांड को कथात्मक टेक्स्ट में सुरक्षित रूप से वर्णित कर सकते हैं। यदि आपको उन्हें फेंस के अंदर दिखाना *ज़रूरी* हो, तो ट्रिपल बैकटिक्स के बिना एक फेंस्ड ब्लॉक जोड़ें (जैसे, इंडेंट या कोट करें) या इसे छद्म रूप में फिर से लिखें।

### विशिष्ट फाइलों को स्किप करना (उन्नत)
यदि आवश्यक हो, तो पुराने उदाहरणों को रेपो के बाहर एक अलग फाइल में रखें या ड्राफ्टिंग के दौरान एक अलग एक्सटेंशन के साथ नाम बदलें। अनुवादित प्रतियों के लिए इरादतन स्किप्स स्वचालित हैं (पथ जिनमें `translations` शामिल है)।

### समस्या निवारण
| समस्या | कारण | समाधान |
|-------|------|--------|
| लिंटर आपके द्वारा अपडेट की गई लाइन को फ्लैग करता है | Regex बहुत व्यापक है | अतिरिक्त वर्ड बॉउंड्री (`\b`) या एंकर के साथ पैटर्न को संकीर्ण करें |
| CI विफल लेकिन लोकल पास | अलग Python संस्करण या अनकमिटेड बदलाव | लोकल रूप से फिर से चलाएं, सुनिश्चित करें कि वर्किंग ट्री साफ है, वर्कफ़्लो Python संस्करण (3.11) जांचें |
| अस्थायी रूप से बायपास करने की आवश्यकता | आपातकालीन हॉटफिक्स | तुरंत फिक्स लागू करें; अस्थायी ब्रांच और फॉलो-अप PR का उपयोग करने पर विचार करें (बायपास स्विच जोड़ने से बचें) |

### तर्क
दस्तावेज़ीकरण को *वर्तमान* स्थिर CLI सतह के साथ संरेखित रखना वर्कशॉप में रुकावट को रोकता है, शिक्षार्थियों को भ्रमित होने से बचाता है, और प्रदर्शन माप को बनाए गए Python स्क्रिप्ट्स के माध्यम से केंद्रीकृत करता है बजाय CLI सबकमांड्स के।

---
वर्कशॉप गुणवत्ता टूलचेन के हिस्से के रूप में बनाए रखा गया। सुधारों के लिए (जैसे, ऑटो-फिक्सिंग सुझाव या HTML रिपोर्ट जनरेशन), एक इश्यू खोलें या PR सबमिट करें।

## 2. सैंपल वैलिडेशन स्क्रिप्ट

`validate_samples.py` सभी Python सैंपल फाइलों को सिंटैक्स, इम्पोर्ट्स, और सर्वोत्तम प्रथाओं के अनुपालन के लिए मान्य करता है।

### उपयोग
```bash
# Validate all samples
python scripts/validate_samples.py

# Validate specific session
python scripts/validate_samples.py --session 01

# Verbose mode (includes best practice warnings)
python scripts/validate_samples.py --verbose

# Summary only
python scripts/validate_samples.py --summary
```

### यह क्या जांचता है
- ✅ Python सिंटैक्स की वैधता
- ✅ आवश्यक इम्पोर्ट्स मौजूद हैं
- ✅ त्रुटि हैंडलिंग कार्यान्वयन (वर्बोज़ मोड)
- ✅ टाइप हिंट्स का उपयोग (वर्बोज़ मोड)
- ✅ फ़ंक्शन डॉकस्ट्रिंग्स (वर्बोज़ मोड)
- ✅ SDK संदर्भ लिंक (वर्बोज़ मोड)

### पर्यावरण वेरिएबल्स
- `SKIP_IMPORT_CHECK=1` - इम्पोर्ट वैलिडेशन को स्किप करें
- `SKIP_SYNTAX_CHECK=1` - सिंटैक्स वैलिडेशन को स्किप करें

### एग्जिट कोड्स
- `0` - सभी सैंपल्स ने वैलिडेशन पास किया
- `1` - एक या अधिक सैंपल्स विफल रहे

## 3. सैंपल टेस्ट रनर

`test_samples.py` सभी सैंपल्स पर स्मोक टेस्ट चलाता है ताकि यह सत्यापित किया जा सके कि वे त्रुटियों के बिना निष्पादित होते हैं।

### उपयोग
```bash
# Test all samples
python scripts/test_samples.py

# Test specific session
python scripts/test_samples.py --session 01

# Quick mode (shorter timeouts)
python scripts/test_samples.py --quick

# Verbose mode (show output)
python scripts/test_samples.py --verbose
```

### आवश्यकताएँ
- Foundry Local सेवा चालू: `foundry service start`
- मॉडल्स लोडेड: `foundry model run phi-4-mini`
- डिपेंडेंसीज़ इंस्टॉल: `pip install -r requirements.txt`

### यह क्या जांचता है
- ✅ सैंपल रनटाइम त्रुटियों के बिना निष्पादित हो सकता है
- ✅ आवश्यक आउटपुट उत्पन्न होता है
- ✅ विफलता पर उचित त्रुटि हैंडलिंग
- ✅ प्रदर्शन (निष्पादन समय)

### पर्यावरण वेरिएबल्स
- `FOUNDRY_LOCAL_ALIAS=phi-4-mini` - परीक्षण के लिए उपयोग करने वाला मॉडल
- `TEST_TIMEOUT=30` - प्रति सैंपल टाइमआउट (सेकंड में)

### अपेक्षित विफलताएँ
कुछ परीक्षण विफल हो सकते हैं यदि वैकल्पिक डिपेंडेंसीज़ इंस्टॉल नहीं हैं (जैसे, `ragas`, `sentence-transformers`)। इंस्टॉल करें:
```bash
pip install sentence-transformers ragas datasets
```

### एग्जिट कोड्स
- `0` - सभी परीक्षण पास हुए
- `1` - एक या अधिक परीक्षण विफल रहे

## 4. बेंचमार्क मार्कडाउन एक्सपोर्टर

स्क्रिप्ट: `export_benchmark_markdown.py`

मॉडलों के सेट के लिए पुन: उत्पन्न करने योग्य प्रदर्शन तालिका बनाता है।

### उपयोग
```powershell
python Workshop\scripts\export_benchmark_markdown.py --models "qwen2.5-0.5b,gemma-2-2b" --prompt "Explain retrieval augmented generation briefly." --rounds 3 --output benchmark_report.md
```

### आउटपुट्स
| फ़ाइल | विवरण |
|------|-------|
| `benchmark_report.md` | मार्कडाउन तालिका (औसत, p95, टोकन/सेकंड, वैकल्पिक पहला टोकन) |
| `benchmark_report.json` | डिफिंग और इतिहास के लिए रॉ मेट्रिक्स ऐरे |

### विकल्प
| फ्लैग | विवरण | डिफ़ॉल्ट |
|------|-------|---------|
| `--models` | कॉमा से अलग किए गए मॉडल एलियास | (आवश्यक) |
| `--prompt` | प्रत्येक राउंड में उपयोग किया गया प्रॉम्प्ट | (आवश्यक) |
| `--rounds` | प्रति मॉडल राउंड्स | 3 |
| `--output` | मार्कडाउन आउटपुट फ़ाइल | `benchmark_report.md` |
| `--json` | JSON आउटपुट फ़ाइल | `benchmark_report.json` |
| `--fail-on-empty` | सभी बेंचमार्क विफल होने पर नॉन-ज़ीरो एग्जिट | बंद |

पर्यावरण वेरिएबल `BENCH_STREAM=1` पहला टोकन लेटेंसी माप जोड़ता है।

### नोट्स
- `workshop_utils` का पुन: उपयोग करता है ताकि मॉडल बूटस्ट्रैप और कैशिंग सुसंगत रहे।
- यदि किसी अलग वर्किंग डायरेक्टरी से चलाया जाता है, तो स्क्रिप्ट `workshop_utils` को ढूंढने के लिए पथ फॉलबैक का प्रयास करती है।
- GPU तुलना के लिए: एक बार चलाएं, CLI कॉन्फ़िग के माध्यम से एक्सेलेरेशन सक्षम करें, पुन: चलाएं और JSON को डिफ करें।

---

**अस्वीकरण**:  
यह दस्तावेज़ AI अनुवाद सेवा [Co-op Translator](https://github.com/Azure/co-op-translator) का उपयोग करके अनुवादित किया गया है। जबकि हम सटीकता सुनिश्चित करने का प्रयास करते हैं, कृपया ध्यान दें कि स्वचालित अनुवाद में त्रुटियां या अशुद्धियां हो सकती हैं। मूल भाषा में उपलब्ध दस्तावेज़ को आधिकारिक स्रोत माना जाना चाहिए। महत्वपूर्ण जानकारी के लिए, पेशेवर मानव अनुवाद की सिफारिश की जाती है। इस अनुवाद के उपयोग से उत्पन्न किसी भी गलतफहमी या गलत व्याख्या के लिए हम जिम्मेदार नहीं हैं।
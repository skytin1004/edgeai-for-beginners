<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "49e18143f97a802a8647f4be28355348",
  "translation_date": "2025-09-19T01:01:43+00:00",
  "source_file": "Module04/01.Introduce.md",
  "language_code": "lt"
}
-->
# 1 skyrius: ModeliÅ³ formato konvertavimas ir kvantizavimo pagrindai

ModeliÅ³ formato konvertavimas ir kvantizavimas yra svarbÅ«s EdgeAI paÅ¾angos aspektai, leidÅ¾iantys Ä¯gyvendinti sudÄ—tingas maÅ¡ininio mokymosi galimybes ribotÅ³ resursÅ³ Ä¯renginiuose. Supratimas, kaip efektyviai konvertuoti, optimizuoti ir diegti modelius, yra bÅ«tinas kuriant praktiÅ¡kus AI sprendimus kraÅ¡tiniuose Ä¯renginiuose.

## Ä®vadas

Å iame vadove nagrinÄ—sime modeliÅ³ formato konvertavimo ir kvantizavimo technikas bei jÅ³ paÅ¾angias Ä¯gyvendinimo strategijas. Aptarsime pagrindines modeliÅ³ suspaudimo sÄ…vokas, formato konvertavimo ribas ir klasifikacijas, optimizavimo technikas bei praktines diegimo strategijas kraÅ¡tiniuose kompiuterijos aplinkose.

## Mokymosi tikslai

Å io vadovo pabaigoje galÄ—site:

- ğŸ”¢ Suprasti kvantizavimo ribas ir skirtingÅ³ tikslumo lygiÅ³ klasifikacijas.
- ğŸ› ï¸ Identifikuoti pagrindines formato konvertavimo technikas modeliÅ³ diegimui kraÅ¡tiniuose Ä¯renginiuose.
- ğŸš€ IÅ¡mokti paÅ¾angias kvantizavimo ir suspaudimo strategijas optimizuotai inferencijai.

## ModeliÅ³ kvantizavimo ribÅ³ ir klasifikacijÅ³ supratimas

ModeliÅ³ kvantizavimas yra technika, skirta sumaÅ¾inti neuroniniÅ³ tinklÅ³ parametrÅ³ tikslumÄ…, naudojant Å¾ymiai maÅ¾iau bitÅ³ nei pilno tikslumo modeliai. Pilno tikslumo modeliai naudoja 32 bitÅ³ slankiojo kablelio reprezentacijas, o kvantizuoti modeliai yra specialiai sukurti efektyvumui ir diegimui kraÅ¡tiniuose Ä¯renginiuose.

Tikslumo klasifikavimo sistema padeda suprasti skirtingas kvantizavimo lygiÅ³ kategorijas ir jÅ³ tinkamus naudojimo atvejus. Å i klasifikacija yra labai svarbi renkantis tinkamÄ… tikslumo lygÄ¯ konkretiems kraÅ¡tinÄ—s kompiuterijos scenarijams.

### Tikslumo klasifikavimo sistema

Supratimas apie tikslumo ribas padeda pasirinkti tinkamus kvantizavimo lygius skirtingiems kraÅ¡tinÄ—s kompiuterijos scenarijams:

- **ğŸ”¬ Itin Å¾emas tikslumas**: 1â€“2 bitÅ³ kvantizavimas (ekstremalus suspaudimas specializuotai aparatÅ«rai)
- **ğŸ“± Å½emas tikslumas**: 3â€“4 bitÅ³ kvantizavimas (subalansuotas naÅ¡umas ir efektyvumas)
- **âš–ï¸ Vidutinis tikslumas**: 5â€“8 bitÅ³ kvantizavimas (artÄ—jantis prie pilno tikslumo galimybiÅ³, iÅ¡laikant efektyvumÄ…)

Tikslumo ribos lieka lankstÅ«s moksliniÅ³ tyrimÅ³ bendruomenÄ—je, taÄiau dauguma praktikÅ³ laiko 8 bitÅ³ ir maÅ¾esnius modelius â€kvantizuotaisâ€œ, kai kurie Å¡altiniai nustato specializuotas ribas skirtingiems aparatÅ«ros tikslams.

### Pagrindiniai modeliÅ³ kvantizavimo privalumai

ModeliÅ³ kvantizavimas siÅ«lo keletÄ… pagrindiniÅ³ privalumÅ³, kurie daro jÄ¯ idealÅ³ kraÅ¡tinÄ—s kompiuterijos taikymams:

**Operacinis efektyvumas**: Kvantizuoti modeliai uÅ¾tikrina greitesnÄ¯ inferencijos laikÄ… dÄ—l sumaÅ¾Ä—jusio skaiÄiavimo sudÄ—tingumo, todÄ—l jie yra idealÅ«s realaus laiko taikymams. Jie reikalauja maÅ¾iau skaiÄiavimo resursÅ³, leidÅ¾ia diegti ribotÅ³ resursÅ³ Ä¯renginiuose, sunaudoja maÅ¾iau energijos ir maÅ¾ina anglies pÄ—dsakÄ….

**Diegimo lankstumas**: Å ie modeliai leidÅ¾ia AI veikti Ä¯renginyje be interneto ryÅ¡io, didina privatumÄ… ir saugumÄ… per vietinÄ¯ apdorojimÄ…, gali bÅ«ti pritaikyti specifinÄ—ms sritims ir yra tinkami Ä¯vairioms kraÅ¡tinÄ—s kompiuterijos aplinkoms.

**EkonomiÅ¡kumas**: Kvantizuoti modeliai siÅ«lo ekonomiÅ¡kÄ… mokymÄ… ir diegimÄ…, palyginti su pilno tikslumo modeliais, maÅ¾esnes eksploatavimo iÅ¡laidas ir maÅ¾esnius pralaidumo reikalavimus kraÅ¡tiniuose taikymuose.

## PaÅ¾angios modeliÅ³ formato Ä¯sigijimo strategijos

### GGUF (General GGML Universal Format)

GGUF yra pagrindinis formatas kvantizuotÅ³ modeliÅ³ diegimui CPU ir kraÅ¡tiniuose Ä¯renginiuose. Formatui bÅ«dingi iÅ¡samÅ«s resursai modeliÅ³ konvertavimui ir diegimui:

**FormatÅ³ atradimo funkcijos**: Formatui bÅ«dinga paÅ¾angi Ä¯vairiÅ³ kvantizavimo lygiÅ³, licencijÅ³ suderinamumo ir naÅ¡umo optimizavimo palaikymas. Vartotojai gali pasinaudoti kryÅ¾minÄ—s platformos suderinamumu, realaus laiko naÅ¡umo testais ir WebGPU palaikymu narÅ¡yklÄ—s pagrindu veikianÄiam diegimui.

**Kvantizavimo lygiÅ³ kolekcijos**: PopuliarÅ«s kvantizavimo formatai apima Q4_K_M subalansuotam suspaudimui, Q5_K_S serijÄ… kokybei orientuotiems taikymams, Q8_0 beveik originaliam tikslumui ir eksperimentinius formatus, tokius kaip Q2_K itin Å¾emo tikslumo diegimui. Formatui taip pat bÅ«dingi bendruomenÄ—s sukurti variantai su specializuotomis konfigÅ«racijomis specifinÄ—ms sritims ir bendrojo naudojimo bei instrukcijoms pritaikyti variantai, optimizuoti skirtingiems naudojimo atvejams.

### ONNX (Open Neural Network Exchange)

ONNX formatas uÅ¾tikrina kryÅ¾minÄ—s sistemos suderinamumÄ… kvantizuotiems modeliams su patobulintomis integracijos galimybÄ—mis:

**Ä®monÄ—s integracija**: Formatui bÅ«dingi modeliai su Ä¯monÄ—s lygio palaikymu ir optimizavimo galimybÄ—mis, Ä¯skaitant dinaminÄ¯ kvantizavimÄ… adaptuojamam tikslumui ir statinÄ¯ kvantizavimÄ… gamybos diegimui. Jis taip pat palaiko modelius iÅ¡ Ä¯vairiÅ³ sistemÅ³ su standartizuotais kvantizavimo metodais.

**Ä®monÄ—s privalumai**: Integruoti Ä¯rankiai optimizavimui, kryÅ¾minÄ—s platformos diegimui ir aparatÅ«ros pagreiÄiui yra suderinti su skirtingais inferencijos varikliais. Tiesioginis sistemos palaikymas su standartizuotais API, integruotos optimizavimo funkcijos ir iÅ¡samÅ«s diegimo procesai pagerina Ä¯monÄ—s patirtÄ¯.

## PaÅ¾angios kvantizavimo ir optimizavimo technikos

### Llama.cpp optimizavimo sistema

Llama.cpp siÅ«lo paÅ¾angias kvantizavimo technikas, uÅ¾tikrinanÄias maksimalÅ³ efektyvumÄ… kraÅ¡tiniuose diegimuose:

**Kvantizavimo metodai**: Sistema palaiko Ä¯vairius kvantizavimo lygius, Ä¯skaitant Q4_0 (4 bitÅ³ kvantizavimas su puikiu dydÅ¾io sumaÅ¾inimu - idealus mobiliajam diegimui), Q5_1 (5 bitÅ³ kvantizavimas, subalansuojantis kokybÄ™ ir suspaudimÄ… - tinkamas kraÅ¡tinei inferencijai) ir Q8_0 (8 bitÅ³ kvantizavimas beveik originaliai kokybei - rekomenduojamas gamybos naudojimui). PaÅ¾angÅ«s formatai, tokie kaip Q2_K, atspindi paÅ¾angÅ³ suspaudimÄ… ekstremaliems scenarijams.

**Ä®gyvendinimo privalumai**: CPU optimizuota inferencija su SIMD pagreiÄiu uÅ¾tikrina atminties efektyvÅ³ modeliÅ³ Ä¯krovimÄ… ir vykdymÄ…. KryÅ¾minÄ—s platformos suderinamumas su x86, ARM ir Apple Silicon architektÅ«romis leidÅ¾ia aparatÅ«ros nepriklausomÄ… diegimÄ….

**Atminties pÄ—dsako palyginimas**: Skirtingi kvantizavimo lygiai siÅ«lo Ä¯vairius kompromisus tarp modelio dydÅ¾io ir kokybÄ—s. Q4_0 uÅ¾tikrina maÅ¾daug 75% dydÅ¾io sumaÅ¾inimÄ…, Q5_1 siÅ«lo 70% sumaÅ¾inimÄ… su geresniu kokybÄ—s iÅ¡laikymu, o Q8_0 pasiekia 50% sumaÅ¾inimÄ…, iÅ¡laikant beveik originalÅ³ naÅ¡umÄ….

### Microsoft Olive optimizavimo rinkinys

Microsoft Olive siÅ«lo iÅ¡samias modeliÅ³ optimizavimo darbo eigas, skirtas gamybos aplinkoms:

**Optimizavimo technikos**: Rinkinys apima dinaminÄ¯ kvantizavimÄ… automatiÅ¡kam tikslumo pasirinkimui, grafÅ³ optimizavimÄ… ir operatoriÅ³ sujungimÄ… efektyvumui pagerinti, aparatÅ«ros specifines optimizacijas CPU, GPU ir NPU diegimui bei daugiapakopius optimizavimo procesus. Specializuotos kvantizavimo darbo eigos palaiko Ä¯vairius tikslumo lygius nuo 8 bitÅ³ iki eksperimentiniÅ³ 1 bitÅ³ konfigÅ«racijÅ³.

**Darbo eigos automatizavimas**: Automatinis testavimas per optimizavimo variantus uÅ¾tikrina kokybÄ—s metrikÅ³ iÅ¡saugojimÄ… optimizavimo metu. Integracija su populiariomis ML sistemomis, tokiomis kaip PyTorch ir ONNX, suteikia debesÅ³ ir kraÅ¡tinio diegimo optimizavimo galimybes.

### Apple MLX sistema

Apple MLX siÅ«lo natyviÄ… optimizacijÄ…, specialiai sukurtÄ… Apple Silicon Ä¯renginiams:

**Apple Silicon optimizacija**: Sistema naudoja vieningos atminties architektÅ«rÄ… su Metal Performance Shaders integracija, automatinÄ¯ miÅ¡rÅ³ tikslumo inferencijÄ… ir optimizuotÄ… atminties pralaidumo naudojimÄ…. Modeliai rodo iÅ¡skirtinÄ¯ naÅ¡umÄ… M serijos lustuose, uÅ¾tikrinant optimalÅ³ balansÄ… Ä¯vairiems Apple Ä¯renginiÅ³ diegimams.

**KÅ«rimo funkcijos**: Python ir Swift API palaikymas su NumPy suderinamais masyvo operacijomis, automatinio diferencijavimo galimybÄ—mis ir sklandÅ¾ia integracija su Apple kÅ«rimo Ä¯rankiais suteikia iÅ¡samÅ³ kÅ«rimo aplinkÄ….

## Gamybos diegimo ir inferencijos strategijos

### Ollama: Supaprastintas vietinis diegimas

Ollama supaprastina modeliÅ³ diegimÄ… su Ä¯monÄ—s paruoÅ¡tomis funkcijomis vietinÄ—ms ir kraÅ¡tinÄ—ms aplinkoms:

**Diegimo galimybÄ—s**: Vieno komandos modelio Ä¯diegimas ir vykdymas su automatiniu modelio atsisiuntimu ir talpinimu. Palaikymas Ä¯vairiems kvantizuotiems formatams su REST API integracijai Ä¯ programas ir daugiamodeliÅ³ valdymo bei perjungimo galimybÄ—mis. PaÅ¾angÅ«s kvantizavimo lygiai reikalauja specifinÄ—s konfigÅ«racijos optimaliam diegimui.

**PaÅ¾angios funkcijos**: PritaikytÅ³ modeliÅ³ derinimo palaikymas, Dockerfile generavimas konteinerizuotam diegimui, GPU pagreitis su automatiniu aptikimu ir modeliÅ³ kvantizavimo bei optimizavimo galimybÄ—s suteikia iÅ¡samÅ³ diegimo lankstumÄ….

### VLLM: AukÅ¡tos kokybÄ—s inferencija

VLLM uÅ¾tikrina gamybos lygio inferencijos optimizacijÄ… didelio naÅ¡umo scenarijams:

**NaÅ¡umo optimizacijos**: PagedAttention atminties efektyviam dÄ—mesio skaiÄiavimui, dinaminis paketavimas naÅ¡umo optimizavimui, tensorÅ³ paralelizmas daugiagrafiÅ³ masteliui ir spekuliatyvus dekodavimas latencijos maÅ¾inimui. PaÅ¾angÅ«s kvantizavimo formatai reikalauja specializuotÅ³ inferencijos branduoliÅ³ optimaliam naÅ¡umui.

**Ä®monÄ—s integracija**: OpenAI suderinami API galiniai taÅ¡kai, Kubernetes diegimo palaikymas, stebÄ—jimo ir stebÄ—jimo integracija bei automatinio mastelio galimybÄ—s uÅ¾tikrina Ä¯monÄ—s lygio diegimo sprendimus.

### Microsoft kraÅ¡tinÄ—s sprendimai

Microsoft siÅ«lo iÅ¡samias kraÅ¡tinÄ—s diegimo galimybes Ä¯monÄ—s aplinkoms:

**KraÅ¡tinÄ—s kompiuterijos funkcijos**: Offline-first architektÅ«ros dizainas su resursÅ³ apribojimÅ³ optimizavimu, vietinis modeliÅ³ registrÅ³ valdymas ir kraÅ¡tinÄ—s-debesies sinchronizavimo galimybÄ—s uÅ¾tikrina patikimÄ… kraÅ¡tinÄ—s diegimÄ….

**Saugumas ir atitiktis**: Vietinis duomenÅ³ apdorojimas privatumui iÅ¡saugoti, Ä¯monÄ—s saugumo kontrolÄ—s, audito Å¾urnalÅ³ ir atitikties ataskaitÅ³ teikimas bei prieigos valdymas pagal vaidmenis uÅ¾tikrina iÅ¡samÅ³ saugumÄ… kraÅ¡tiniuose diegimuose.

## Geriausios praktikos modeliÅ³ kvantizavimo Ä¯gyvendinimui

### Kvantizavimo lygiÅ³ pasirinkimo gairÄ—s

Renkantis kvantizavimo lygius kraÅ¡tiniam diegimui, atsiÅ¾velkite Ä¯ Å¡iuos veiksnius:

**Tikslumo skaiÄiaus svarstymai**: Pasirinkite itin Å¾emÄ… tikslumÄ…, pvz., Q2_K, ekstremalioms mobiliosioms programoms, Å¾emÄ… tikslumÄ…, pvz., Q4_K_M, subalansuotoms naÅ¡umo situacijoms, ir vidutinÄ¯ tikslumÄ…, pvz., Q8_0, kai artÄ—jama prie pilno tikslumo galimybiÅ³, iÅ¡laikant efektyvumÄ…. Eksperimentiniai formatai siÅ«lo specializuotÄ… suspaudimÄ… specifiniams moksliniÅ³ tyrimÅ³ taikymams.

**Naudojimo atvejÅ³ suderinimas**: Suderinkite kvantizavimo galimybes su specifiniais taikymo reikalavimais, atsiÅ¾velgdami Ä¯ tokius veiksnius kaip tikslumo iÅ¡saugojimas, inferencijos greitis, atminties apribojimai ir neprisijungus veikimo reikalavimai.

### Optimizavimo strategijos pasirinkimas

**Kvantizavimo metodas**: Pasirinkite tinkamus kvantizavimo lygius pagal kokybÄ—s reikalavimus ir aparatÅ«ros apribojimus. Apsvarstykite Q4_0 maksimaliai suspaudimui, Q5_1 subalansuotam kokybÄ—s-suspaudimo kompromisui ir Q8_0 beveik originalios kokybÄ—s iÅ¡saugojimui. Eksperimentiniai formatai atspindi ekstremalaus suspaudimo ribas specializuotiems taikymams.

**Sistemos pasirinkimas**: Pasirinkite optimizavimo sistemas pagal tikslinÄ™ aparatÅ«rÄ… ir diegimo reikalavimus. Naudokite Llama.cpp CPU optimizuotam diegimui, Microsoft Olive iÅ¡samioms optimizavimo darbo eigoms ir Apple MLX Apple Silicon Ä¯renginiams.

## Praktinis formato konvertavimas ir naudojimo atvejai

### RealÅ«s diegimo scenarijai

**Mobiliosios programos**: Q4_K formatai puikiai tinka iÅ¡maniojo telefono programoms su minimaliu atminties pÄ—dsaku, o Q8_0 uÅ¾tikrina subalansuotÄ… naÅ¡umÄ… planÅ¡etiniÅ³ kompiuteriÅ³ programoms. Q5_K formatai siÅ«lo aukÅ¡Äiausios kokybÄ—s mobilias produktyvumo programas.

**Darbalaukio ir kraÅ¡tinÄ— kompiuterija**: Q5_K uÅ¾tikrina optimalÅ³ naÅ¡umÄ… darbalaukio programoms, Q8_0 siÅ«lo aukÅ¡tos kokybÄ—s inferencijÄ… darbo aplinkoms, o Q4_K leidÅ¾ia efektyvÅ³ apdorojimÄ… kraÅ¡tiniuose Ä¯renginiuose.

**Moksliniai tyrimai ir eksperimentai**: PaÅ¾angÅ«s kvantizavimo formatai leidÅ¾ia tyrinÄ—ti itin Å¾emo tikslumo inferencijÄ… akademiniams tyrimams ir koncepcijos Ä¯rodymo programoms, reikalaujanÄioms ekstremaliÅ³ resursÅ³ apribojimÅ³.

### NaÅ¡umo testai ir palyginimai

**Inferencijos greitis**: Q4_K pasiekia greiÄiausiÄ… inferencijos laikÄ… mobiliose CPU, Q5_K uÅ¾tikrina subalansuotÄ… greiÄio-kokybÄ—s santykÄ¯ bendroms programoms, Q8_0 siÅ«lo aukÅ¡Äiausios kokybÄ—s inferencijÄ… sudÄ—tingoms uÅ¾duotims, o eksperimentiniai formatai uÅ¾tikrina teorinÄ¯ maksimalÅ³ pralaidumÄ… su specializuota aparatÅ«ra.

**Atminties reikalavimai**: Kvantizavimo lygiai svyruoja nuo Q2_K (maÅ¾iau nei 500 MB maÅ¾iems modeliams) iki Q8_0 (maÅ¾daug 50% originalaus dydÅ¾io), o eksperimentinÄ—s konfigÅ«racijos pasiekia maksimalias suspaudimo proporcijas.

## IÅ¡Å¡Å«kiai ir svarstymai

### NaÅ¡umo kompromisai



---

**AtsakomybÄ—s apribojimas**:  
Å is dokumentas buvo iÅ¡verstas naudojant AI vertimo paslaugÄ… [Co-op Translator](https://github.com/Azure/co-op-translator). Nors siekiame tikslumo, praÅ¡ome atkreipti dÄ—mesÄ¯, kad automatiniai vertimai gali turÄ—ti klaidÅ³ ar netikslumÅ³. Originalus dokumentas jo gimtÄ…ja kalba turÄ—tÅ³ bÅ«ti laikomas autoritetingu Å¡altiniu. Kritinei informacijai rekomenduojama profesionali Å¾mogaus vertimo paslauga. Mes neprisiimame atsakomybÄ—s uÅ¾ nesusipratimus ar klaidingus interpretavimus, atsiradusius naudojant Å¡Ä¯ vertimÄ….